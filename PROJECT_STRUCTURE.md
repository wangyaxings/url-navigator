# URL Navigator é¡¹ç›®ç»“æ„æ–‡æ¡£

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†URL Navigatoré¡¹ç›®ä¸­æ¯ä¸ªæ–‡ä»¶å’Œç›®å½•çš„ä½œç”¨ã€‚

## ğŸ“ é¡¹ç›®æ€»è§ˆ

URL Navigatoræ˜¯ä¸€ä¸ªåŸºäºWailsæ¡†æ¶çš„æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œä½¿ç”¨Goä½œä¸ºåç«¯ï¼ŒReact + TypeScriptä½œä¸ºå‰ç«¯ã€‚

```
AutoUpdate/
â”œâ”€â”€ ğŸ”§ å¼€å‘å·¥å…·
â”‚   â””â”€â”€ tools/urlnav.go           # ç»Ÿä¸€çš„å¼€å‘å’Œå‘å¸ƒå·¥å…·
â”œâ”€â”€ ğŸ–¥ï¸ åç«¯ä»£ç  (Go)
â”‚   â”œâ”€â”€ main.go                   # åº”ç”¨ç¨‹åºå…¥å£ç‚¹
â”‚   â”œâ”€â”€ app.go                    # ä¸»è¦åº”ç”¨é€»è¾‘å’ŒWailsç»‘å®š
â”‚   â”œâ”€â”€ version.go                # ç‰ˆæœ¬ç®¡ç†é€»è¾‘
â”‚   â””â”€â”€ updater.go                # è‡ªåŠ¨æ›´æ–°åŠŸèƒ½
â”œâ”€â”€ ğŸ¨ å‰ç«¯ä»£ç  (React + TypeScript)
â”‚   â””â”€â”€ frontend/                 # å‰ç«¯é¡¹ç›®ç›®å½•
â”œâ”€â”€ âš™ï¸ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ wails.json                # Wailsæ¡†æ¶é…ç½®
â”‚   â”œâ”€â”€ version.json              # ç‰ˆæœ¬å’Œæ„å»ºé…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ go.mod/go.sum            # Goæ¨¡å—ä¾èµ–
â”‚   â””â”€â”€ .gitignore               # Gitå¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ ğŸ“š æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md                 # é¡¹ç›®ä»‹ç»å’Œä½¿ç”¨è¯´æ˜
â”‚   â”œâ”€â”€ BUILD_GUIDE.md           # æ„å»ºå’Œå‘å¸ƒæŒ‡å—
â”‚   â”œâ”€â”€ AUTO_UPDATE_GUIDE.md     # è‡ªåŠ¨æ›´æ–°åŠŸèƒ½è¯´æ˜
â”‚   â””â”€â”€ PROJECT_STRUCTURE.md     # æœ¬æ–‡æ¡£
â”œâ”€â”€ ğŸ”’ è®¸å¯è¯
â”‚   â””â”€â”€ LICENSE                   # MITè®¸å¯è¯
â”œâ”€â”€ ğŸš€ æ„å»ºäº§ç‰©
â”‚   â””â”€â”€ build/                    # ç¼–è¯‘è¾“å‡ºç›®å½•
â””â”€â”€ ğŸ”„ ç‰ˆæœ¬æ§åˆ¶
    â””â”€â”€ .git/                     # Gitä»“åº“
```

## ğŸ“‚ è¯¦ç»†æ–‡ä»¶è¯´æ˜

### ğŸ”§ å¼€å‘å·¥å…·

#### `tools/urlnav.go`
**ç»Ÿä¸€çš„å¼€å‘å’Œå‘å¸ƒå·¥å…·**
- **ä½œç”¨**: æ›¿ä»£æ‰€æœ‰æ‰¹å¤„ç†å’ŒPowerShellè„šæœ¬çš„Goå·¥å…·
- **åŠŸèƒ½**:
  - `dev` - å¯åŠ¨å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
  - `build` - æ„å»ºç”Ÿäº§ç‰ˆæœ¬
  - `run` - è¿è¡Œæ„å»ºçš„åº”ç”¨
  - `release` - å‘å¸ƒæ–°ç‰ˆæœ¬ï¼ˆç‰ˆæœ¬ç®¡ç†ã€Gitæ“ä½œï¼‰
- **ç‰¹ç‚¹**: è·¨å¹³å°å…¼å®¹ã€å½©è‰²è¾“å‡ºã€é”™è¯¯å¤„ç†å®Œå–„

### ğŸ–¥ï¸ åç«¯ä»£ç  (Go)

#### `main.go`
**åº”ç”¨ç¨‹åºå…¥å£ç‚¹**
- **ä½œç”¨**: Wailsåº”ç”¨çš„å¯åŠ¨æ–‡ä»¶
- **åŠŸèƒ½**:
  - åˆ›å»ºAppå®ä¾‹
  - é…ç½®Wailsåº”ç”¨é€‰é¡¹ï¼ˆçª—å£å¤§å°ã€èƒŒæ™¯è‰²ç­‰ï¼‰
  - åˆå§‹åŒ–ç‰ˆæœ¬ä¿¡æ¯
  - ç»‘å®šGoå‡½æ•°åˆ°å‰ç«¯

#### `app.go`
**ä¸»è¦åº”ç”¨é€»è¾‘å’ŒWailsç»‘å®š**
- **ä½œç”¨**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œæš´éœ²ç»™å‰ç«¯çš„API
- **åŠŸèƒ½**:
  - URLä¹¦ç­¾ç®¡ç†ï¼ˆå¢åˆ æ”¹æŸ¥ã€æœç´¢ã€æ’åºï¼‰
  - åˆ†ç±»ç®¡ç†
  - æ•°æ®å¯¼å…¥å¯¼å‡ºï¼ˆChrome/Firefox/Edgeä¹¦ç­¾ï¼‰
  - é«˜çº§æœç´¢åŠŸèƒ½
  - æ–‡ä»¶æ“ä½œå’Œæ•°æ®æŒä¹…åŒ–
- **æ•°æ®å­˜å‚¨**: ä½¿ç”¨JSONæ–‡ä»¶å­˜å‚¨åœ¨ç”¨æˆ·ç›®å½• `~/.urlnavigator/`

#### `version.go`
**ç‰ˆæœ¬ç®¡ç†é€»è¾‘**
- **ä½œç”¨**: å¤„ç†åº”ç”¨ç‰ˆæœ¬ä¿¡æ¯çš„è¯»å–ã€ç®¡ç†å’Œæ˜¾ç¤º
- **åŠŸèƒ½**:
  - å¤šæºç‰ˆæœ¬è¯»å–ï¼ˆç¼–è¯‘æ—¶æ³¨å…¥ > wails.json > ç”¨æˆ·é…ç½® > é»˜è®¤æ¨¡æ¿ï¼‰
  - ç‰ˆæœ¬ä¿¡æ¯åˆå§‹åŒ–å’Œç¼“å­˜
  - ç‰ˆæœ¬æ ¼å¼åŒ–å’Œæ˜¾ç¤º
  - ç‰ˆæœ¬é…ç½®æ–‡ä»¶ç®¡ç†
- **è®¾è®¡**: æ”¯æŒè¿è¡Œæ—¶ç‰ˆæœ¬åˆ‡æ¢å’Œè°ƒè¯•

#### `updater.go`
**è‡ªåŠ¨æ›´æ–°åŠŸèƒ½**
- **ä½œç”¨**: æ£€æŸ¥å’Œä¸‹è½½åº”ç”¨æ›´æ–°
- **åŠŸèƒ½**:
  - GitHub Releases APIé›†æˆ
  - ç‰ˆæœ¬æ¯”è¾ƒå’Œæ›´æ–°æ£€æŸ¥
  - è‡ªåŠ¨ä¸‹è½½å’Œåº”ç”¨æ›´æ–°
  - æ›´æ–°è¿›åº¦æ˜¾ç¤º
  - æ›´æ–°å¤±è´¥å›æ»šæœºåˆ¶

### ğŸ¨ å‰ç«¯ä»£ç  (React + TypeScript)

#### `frontend/`ç›®å½•ç»“æ„
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.tsx                   # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ main.tsx                  # Reactåº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ index.css                 # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ components/               # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/                   # åŸºç¡€UIç»„ä»¶åº“
â”‚   â”‚   â”œâ”€â”€ CategoryManager.tsx   # åˆ†ç±»ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ UpdateChecker.tsx     # æ›´æ–°æ£€æŸ¥å™¨
â”‚   â”‚   â”œâ”€â”€ URLFormDialog.tsx     # URLè¡¨å•å¯¹è¯æ¡†
â”‚   â”‚   â”œâ”€â”€ VersionInfo.tsx       # ç‰ˆæœ¬ä¿¡æ¯æ˜¾ç¤º
â”‚   â”‚   â”œâ”€â”€ ImportExport.tsx      # å¯¼å…¥å¯¼å‡ºåŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ AdvancedSearch.tsx    # é«˜çº§æœç´¢
â”‚   â”‚   â”œâ”€â”€ DraggableURLCard.tsx  # å¯æ‹–æ‹½URLå¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ URLListView.tsx       # URLåˆ—è¡¨è§†å›¾
â”‚   â”‚   â”œâ”€â”€ ThemeToggle.tsx       # ä¸»é¢˜åˆ‡æ¢
â”‚   â”‚   â”œâ”€â”€ LayoutControls.tsx    # å¸ƒå±€æ§åˆ¶
â”‚   â”‚   â”œâ”€â”€ ContextMenu.tsx       # å³é”®èœå•
â”‚   â”‚   â””â”€â”€ KeyboardShortcutsHelp.tsx # å¿«æ·é”®å¸®åŠ©
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ appService.ts         # åº”ç”¨æœåŠ¡å±‚
â”‚   â”œâ”€â”€ contexts/
â”‚   â”‚   â””â”€â”€ ThemeContext.tsx      # ä¸»é¢˜ä¸Šä¸‹æ–‡
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â””â”€â”€ useKeyboardShortcuts.ts # å¿«æ·é”®Hook
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ utils.ts              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ cache.ts              # ç¼“å­˜å·¥å…·
â”‚   â”‚   â””â”€â”€ cacheManager.ts       # ç¼“å­˜ç®¡ç†å™¨
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ index.ts              # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ wailsjs/                      # Wailsè‡ªåŠ¨ç”Ÿæˆçš„ç»‘å®š
â”‚   â”œâ”€â”€ go/main/                  # Goå‡½æ•°ç»‘å®š
â”‚   â””â”€â”€ runtime/                  # Wailsè¿è¡Œæ—¶
â”œâ”€â”€ dist/                         # æ„å»ºè¾“å‡ºç›®å½•
â”œâ”€â”€ node_modules/                 # npmä¾èµ–
â”œâ”€â”€ package.json                  # npmé…ç½®å’Œä¾èµ–
â”œâ”€â”€ yarn.lock                     # Yarné”æ–‡ä»¶
â”œâ”€â”€ index.html                    # HTMLæ¨¡æ¿
â”œâ”€â”€ vite.config.ts               # Viteæ„å»ºé…ç½®
â”œâ”€â”€ tsconfig.json                # TypeScripté…ç½®
â”œâ”€â”€ tsconfig.node.json           # Node.js TypeScripté…ç½®
â”œâ”€â”€ tailwind.config.js           # Tailwind CSSé…ç½®
â””â”€â”€ postcss.config.js            # PostCSSé…ç½®
```

#### å‰ç«¯ä¸»è¦ç»„ä»¶è¯´æ˜

**`App.tsx`** - ä¸»åº”ç”¨ç»„ä»¶
- åº”ç”¨ç¨‹åºçš„æ ¹ç»„ä»¶
- çŠ¶æ€ç®¡ç†å’Œè·¯ç”±é€»è¾‘
- ç»„ä»¶ç»„åˆå’Œå¸ƒå±€

**`components/ui/`** - åŸºç¡€UIç»„ä»¶åº“
- åŸºäºshadcn/uiçš„ç»„ä»¶ç³»ç»Ÿ
- åŒ…å«: Button, Card, Dialog, Input, Badgeç­‰
- ç»Ÿä¸€çš„è®¾è®¡ç³»ç»Ÿå’Œæ ·å¼

**`services/appService.ts`** - åº”ç”¨æœåŠ¡å±‚
- å°è£…Wails Goå‡½æ•°è°ƒç”¨
- ç‰ˆæœ¬ä¿¡æ¯ç®¡ç†API
- é”™è¯¯å¤„ç†å’Œç±»å‹å®‰å…¨

### âš™ï¸ é…ç½®æ–‡ä»¶

#### `wails.json`
**Wailsæ¡†æ¶é…ç½®**
- **ä½œç”¨**: Wailsåº”ç”¨çš„ä¸»é…ç½®æ–‡ä»¶
- **å†…å®¹**:
  - åº”ç”¨å…ƒä¿¡æ¯ï¼ˆåç§°ã€ç‰ˆæœ¬ã€æè¿°ï¼‰
  - å‰ç«¯æ„å»ºé…ç½®
  - æ„å»ºé€‰é¡¹å’Œç¼–è¯‘å‚æ•°
  - GitHubä»“åº“ä¿¡æ¯
  - ldflagsç‰ˆæœ¬æ³¨å…¥é…ç½®

#### `version.json`
**ç‰ˆæœ¬å’Œæ„å»ºé…ç½®æ¨¡æ¿**
- **ä½œç”¨**: å‘å¸ƒå·¥å…·çš„é…ç½®æ¨¡æ¿ï¼ˆä¸ä¼šè¢«è‡ªåŠ¨ä¿®æ”¹ï¼‰
- **å†…å®¹**:
  - é»˜è®¤ç‰ˆæœ¬å·ï¼ˆæ¨¡æ¿ï¼‰
  - GitHubä»“åº“ä¿¡æ¯
  - åº”ç”¨ä¿¡æ¯é…ç½®
  - æ„å»ºå‚æ•°å’Œæ ‡å¿—
  - å‘å¸ƒæµç¨‹é…ç½®

#### `go.mod` / `go.sum`
**Goæ¨¡å—ä¾èµ–ç®¡ç†**
- **ä½œç”¨**: Goé¡¹ç›®çš„ä¾èµ–å£°æ˜å’Œç‰ˆæœ¬é”å®š
- **å†…å®¹**: Wailsã€ç³»ç»Ÿäº¤äº’ã€JSONå¤„ç†ç­‰ä¾èµ–

#### `.gitignore`
**Gitå¿½ç•¥æ–‡ä»¶é…ç½®**
- **ä½œç”¨**: æŒ‡å®šGitä¸è·Ÿè¸ªçš„æ–‡ä»¶å’Œç›®å½•
- **å†…å®¹**: æ„å»ºäº§ç‰©ã€ä¾èµ–ç›®å½•ã€ä¸´æ—¶æ–‡ä»¶ç­‰

### ğŸ“š æ–‡æ¡£

#### `README.md`
**é¡¹ç›®ä»‹ç»å’Œä½¿ç”¨è¯´æ˜**
- é¡¹ç›®æ¦‚è¿°å’Œç‰¹æ€§ä»‹ç»
- å¿«é€Ÿå¼€å§‹æŒ‡å—
- å®‰è£…å’Œä½¿ç”¨è¯´æ˜
- è´¡çŒ®æŒ‡å—

#### `BUILD_GUIDE.md`
**æ„å»ºå’Œå‘å¸ƒæŒ‡å—**
- å¼€å‘ç¯å¢ƒé…ç½®
- æ„å»ºæµç¨‹è¯´æ˜
- å‘å¸ƒæµç¨‹å’Œç‰ˆæœ¬ç®¡ç†
- æ•…éšœæ’é™¤æŒ‡å—

#### `AUTO_UPDATE_GUIDE.md`
**è‡ªåŠ¨æ›´æ–°åŠŸèƒ½è¯´æ˜**
- è‡ªåŠ¨æ›´æ–°æœºåˆ¶ä»‹ç»
- é…ç½®å’Œä½¿ç”¨æ–¹æ³•
- GitHubé›†æˆè¯´æ˜

#### `PROJECT_STRUCTURE.md`
**é¡¹ç›®ç»“æ„æ–‡æ¡£ï¼ˆæœ¬æ–‡æ¡£ï¼‰**
- è¯¦ç»†çš„æ–‡ä»¶å’Œç›®å½•è¯´æ˜
- æ¶æ„æ¦‚è¿°å’Œè®¾è®¡ç†å¿µ

### ğŸ”’ è®¸å¯è¯

#### `LICENSE`
**MITè®¸å¯è¯**
- é¡¹ç›®çš„å¼€æºè®¸å¯è¯
- ä½¿ç”¨æƒé™å’Œé™åˆ¶è¯´æ˜

### ğŸš€ æ„å»ºäº§ç‰©

#### `build/`ç›®å½•
**ç¼–è¯‘è¾“å‡ºç›®å½•**
```
build/
â”œâ”€â”€ bin/
â”‚   â””â”€â”€ URLNavigator.exe          # Windowså¯æ‰§è¡Œæ–‡ä»¶
â”œâ”€â”€ windows/
â”‚   â””â”€â”€ [æ„å»ºä¸´æ—¶æ–‡ä»¶]
â””â”€â”€ appicon.png                   # åº”ç”¨å›¾æ ‡
```

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§å¯¹åº”çš„æ–‡ä»¶

| ç‰¹æ€§ | ä¸»è¦æ–‡ä»¶ |
|------|----------|
| **ä¹¦ç­¾ç®¡ç†** | `app.go`, `frontend/src/App.tsx` |
| **åˆ†ç±»åŠŸèƒ½** | `app.go` (GetCategories, AddCategory), `frontend/src/components/CategoryManager.tsx` |
| **æœç´¢åŠŸèƒ½** | `app.go` (SearchURLs, AdvancedSearchURLs), `frontend/src/components/AdvancedSearch.tsx` |
| **å¯¼å…¥å¯¼å‡º** | `app.go` (ImportChromeBookmarks, ExportBookmarks), `frontend/src/components/ImportExport.tsx` |
| **è‡ªåŠ¨æ›´æ–°** | `updater.go`, `frontend/src/components/UpdateChecker.tsx` |
| **ç‰ˆæœ¬ç®¡ç†** | `version.go`, `frontend/src/components/VersionInfo.tsx` |
| **ä¸»é¢˜ç³»ç»Ÿ** | `frontend/src/contexts/ThemeContext.tsx`, `frontend/src/components/ThemeToggle.tsx` |
| **å¼€å‘å·¥å…·** | `tools/urlnav.go` |

## ğŸ”„ æ•°æ®æµ

### å‰ç«¯ â†” åç«¯é€šä¿¡
```
React Components â†’ appService.ts â†’ Wailsç»‘å®š â†’ Goå‡½æ•° â†’ è¿”å›ç»“æœ
```

### æ•°æ®å­˜å‚¨
```
Goåº”ç”¨ â†’ JSONæ–‡ä»¶ â†’ ç”¨æˆ·ç›®å½• (~/.urlnavigator/)
â”œâ”€â”€ urls.json        # ä¹¦ç­¾æ•°æ®
â”œâ”€â”€ categories.json  # åˆ†ç±»æ•°æ®
â””â”€â”€ version.json     # ç”¨æˆ·ç‰ˆæœ¬é…ç½®
```

### ç‰ˆæœ¬ç®¡ç†æµ
```
ç¼–è¯‘æ—¶æ³¨å…¥ â†’ wails.json â†’ ç”¨æˆ·é…ç½® â†’ é»˜è®¤æ¨¡æ¿ â†’ æ˜¾ç¤ºç‰ˆæœ¬
```

## ğŸ› ï¸ å¼€å‘æµç¨‹

1. **å¼€å‘**: `go run tools/urlnav.go dev`
2. **æ„å»º**: `go run tools/urlnav.go build`
3. **æµ‹è¯•**: `go run tools/urlnav.go run`
4. **å‘å¸ƒ**: `go run tools/urlnav.go release v1.x.x`

## ğŸ“ ç»´æŠ¤è¯´æ˜

- **æ·»åŠ æ–°åŠŸèƒ½**: åœ¨`app.go`ä¸­æ·»åŠ Goå‡½æ•°ï¼Œåœ¨å‰ç«¯æ·»åŠ å¯¹åº”ç»„ä»¶
- **ä¿®æ”¹UI**: ä¸»è¦åœ¨`frontend/src/components/`ç›®å½•ä¸‹å·¥ä½œ
- **ç‰ˆæœ¬å‘å¸ƒ**: ä½¿ç”¨ç»Ÿä¸€çš„Goå·¥å…· `tools/urlnav.go`
- **ä¾èµ–æ›´æ–°**: å‰ç«¯ä½¿ç”¨`yarn`ï¼Œåç«¯ä½¿ç”¨`go mod`

---

*æ­¤æ–‡æ¡£éšé¡¹ç›®æ›´æ–°è€Œç»´æŠ¤ï¼Œæœ€åæ›´æ–°ï¼š2025å¹´1æœˆ*