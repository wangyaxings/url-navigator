# URL Navigator 项目结构

## 优化后的文件结构

```
URLNavigator/                          # 项目根目录
├── 📁 .git/                          # Git版本控制
├── 📁 frontend/                      # 前端项目 (React + TypeScript)
│   ├── 📁 src/
│   │   ├── 📁 components/           # React组件
│   │   │   ├── 📁 ui/              # shadcn-ui基础组件
│   │   │   │   ├── button.tsx      # 按钮组件
│   │   │   │   ├── input.tsx       # 输入框组件
│   │   │   │   ├── card.tsx        # 卡片组件
│   │   │   │   └── dialog.tsx      # 对话框组件
│   │   │   ├── URLFormDialog.tsx   # URL表单对话框
│   │   │   ├── CategoryManager.tsx # 分类管理组件
│   │   │   └── UpdateChecker.tsx   # 更新检查组件
│   │   ├── 📁 lib/
│   │   │   └── utils.ts            # 工具函数
│   │   ├── 📁 types/
│   │   │   └── index.ts            # TypeScript类型定义
│   │   ├── App.tsx                 # 主应用组件
│   │   ├── main.tsx                # React入口文件
│   │   └── index.css               # 全局样式
│   ├── 📁 dist/                    # 构建输出目录
│   ├── 📁 node_modules/            # Node.js依赖
│   ├── 📁 wailsjs/                 # Wails生成的绑定文件
│   ├── package.json                # 前端依赖配置
│   ├── yarn.lock                   # Yarn锁定文件
│   ├── vite.config.ts              # Vite配置
│   ├── tsconfig.json               # TypeScript配置
│   ├── tailwind.config.js          # Tailwind CSS配置
│   ├── postcss.config.js           # PostCSS配置
│   └── index.html                  # HTML模板
├── 📁 build/                       # 构建输出目录
│   └── 📁 bin/
│       └── URLNavigator.exe        # 最终可执行文件
├── 📄 main.go                      # Go主程序入口
├── 📄 app.go                       # 应用核心逻辑
├── 📄 updater.go                   # 自动更新功能
├── 📄 go.mod                       # Go模块配置
├── 📄 go.sum                       # Go依赖锁定
├── 📄 wails.json                   # Wails项目配置
├── 📄 build.bat                    # Windows构建脚本
├── 📄 dev.bat                      # Windows开发脚本
├── 📄 run.bat                      # Windows运行脚本
├── 📄 app.ico                      # 应用图标
├── 📄 README.md                    # 项目说明
├── 📄 USAGE.md                     # 使用指南
└── 📄 测试说明.md                   # 功能测试说明
```

## 结构优化说明

### ✅ 解决的问题
1. **删除了嵌套的URLNavigator目录** - 消除了结构混乱
2. **统一了前端资源位置** - 所有前端代码都在 `frontend/` 目录下
3. **清理了重复文件** - 移除了冗余的配置和代码文件
4. **优化了构建流程** - 确保构建过程指向正确的目录

### 📁 目录职责

#### 前端目录 (`frontend/`)
- **src/components/**: React组件库
  - `ui/`: shadcn-ui基础组件
  - 业务组件: URLFormDialog, CategoryManager, UpdateChecker
- **src/lib/**: 工具函数和配置
- **src/types/**: TypeScript类型定义
- **dist/**: Vite构建输出，被Go程序嵌入
- **wailsjs/**: Wails自动生成的前后端绑定

#### 后端文件
- **main.go**: 程序入口和Wails配置
- **app.go**: 业务逻辑（URL管理、分类管理）
- **updater.go**: 自动更新功能

#### 配置文件
- **wails.json**: Wails项目配置
- **go.mod**: Go依赖管理
- **package.json**: 前端依赖管理

#### 构建和脚本
- **build/**: 最终构建输出
- ***.bat**: Windows批处理脚本

## 构建流程验证

### 1. 前端构建
```bash
cd frontend
yarn install
yarn build
# 输出到 frontend/dist/
```

### 2. 后端构建
```bash
# 回到根目录
cd ..
go mod tidy
wails build
# 输出到 build/bin/URLNavigator.exe
```

### 3. 开发模式
```bash
# 根目录执行
wails dev
# 或使用批处理
dev.bat
```

## 配置文件检查

### wails.json 配置正确性
- ✅ `frontend.dir`: `"./frontend"`
- ✅ `frontend.install`: `"yarn install"`
- ✅ `frontend.build`: `"yarn build"`
- ✅ `frontend.dev`: `"yarn dev"`

### main.go 嵌入资源
- ✅ `//go:embed all:frontend/dist`

## 优化效果

1. **消除混乱**: 不再有重复的frontend目录
2. **简化构建**: 构建过程更加清晰可预测
3. **易于维护**: 文件组织更加合理
4. **避免错误**: 消除了路径混乱导致的构建错误

## 注意事项

1. **开发时**: 确保在正确的目录执行命令
2. **构建时**: 先构建前端，再构建整个应用
3. **版本控制**: 添加适当的.gitignore规则
4. **部署时**: 只需要分发 `build/bin/URLNavigator.exe`